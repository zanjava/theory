# Gas

<b>Gas</b>是以太坊系统向用户收取的手续费，交易过程中的每个运算步骤都需要消耗Gas（即使交易失败）。这些Gas用来奖励打包区块的矿工。  

每一笔交易用户都要设置一个<b>GasLimit</b>，表示用户愿意为成功执行某笔交易逻辑所支付的最大Gas数量。交易成功后剩余的Gas会退回；如果GasLimit设置过低，不能使交易逻辑完整执行，系统将会提示“out of gas”，这笔交易依然会被打包到区块中，交易中所携带的以太坊资产会自动退回，但Gas费用依旧会被收取。  

区块中包含了多笔交易，每笔交易收取了一定Gas费用，区块也设置了一个Gas上限--GasLimit，矿工在打包交易时会判断一下所有交易的总Gas有没有超过区块的GasLimit，如果超过了会被以太坊网络拒绝，系统反馈为“below gas limit”。目前一个以太坊区块的GasLimit值为1200万Gas。 

GasPrice是用户愿意为每个Gas支付的价格。以太币的默认单位是Wei。 

1 ETH = 10^18 Wei  

1 Gas = 10^9 Wei   

1 ETH = 10^9 Gas  

一笔交易的矿工费 = GasPrice * GasUsed。矿工总是希望区块里面包含更多的Gas费，所以，矿池在打包交易的时候，优先打包支付矿工费更多的交易。GasPrice 设置的越高，交易越先被打包进区块，越先被确认；如果GasPrice设置的过低，交易会长时间处于pending状态，排队等待被矿工打包。  